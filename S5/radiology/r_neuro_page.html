<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ====== SUBJECT PAGE SHORTCUT SETTINGS ====== -->
<script>
/*
    ====== EDIT ONLY THIS BLOCK FOR NEW SUBJECTS ======
    Change these variables for each new subject page.
*/
window.SUBJECT_SETTINGS = {
    PAGE_ID: 'r_neuro_mcqs', // Unique localStorage key for this subject
    PAGE_TITLE: 'Qbank - TUCOM -  Radiology', // Title for this subject page
    HOME_LINK: 'Radiology_qbank.html', // Home button link for this subject
};
</script>
<!-- ====== END SHORTCUT SETTINGS ====== -->

<title id="dynamic-title"></title>
<!-- Font Awesome for Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
/* 2. (Optional) Edit styles for your subject */
body {
    font-family: Arial, sans-serif;
    line-height: 1.6;
    margin-top: 70px;
    padding: 20px;
    background-color: #f4f4f4;
    padding-bottom: 100px;
}
.fixed-header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background-color: #17202a;
    color: #fff;
    padding: 10px 0;
    text-align: center;
    z-index: 1000;
    border-bottom: 3px solid #3498db;
}
.fixed-header .made-by-prefix { color: #cccccc; }
.fixed-header a { color: #3498db; text-decoration: none; font-weight: bold; }
.fixed-header a:hover { text-decoration: underline; }
.section {
    margin-bottom: 40px;
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.section-title {
    font-size: 1.8em;
    color: #333;
    margin-bottom: 20px;
    border-bottom: 2px solid #eee;
    padding-bottom: 10px;
}
.question-container {
    margin-bottom: 25px;
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 5px;
    background-color: #fff;
}
.question-container.answered { background-color: #f9f9f9; }
.question-number { font-weight: bold; color: #555; margin-right: 5px; }
.question-text { font-size: 1.1em; color: #333; margin-bottom: 15px; }
ul.options { list-style: none; padding: 0; margin: 0; }
li.option {
    background-color: #f1f1f1;
    margin-bottom: 10px;
    padding: 10px 15px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    border: 1px solid #ccc;
    position: relative;
    user-select: none;
}
li.option:hover:not(.answered li.option) { background-color: #e0e0e0; }
.question-container.answered li.option:hover { background-color: #f1f1f1; }
li.option.correct:hover { background-color: #d4edda !important; }
li.option.incorrect:hover { background-color: #f8d7da !important; }
li.option.reveal-correct:hover { background-color: #d4edda !important; }
li.option.correct {
    background-color: #d4edda;
    border-color: #c3e6cb;
    color: #155724;
    font-weight: bold;
}
li.option.incorrect {
    background-color: #f8d7da;
    border-color: #f5c6cb;
    color: #721c24;
    font-weight: bold;
}
.feedback { display: none; font-weight: bold; margin-left: 10px; }
li.option.correct .feedback,
li.option.incorrect .feedback { display: inline; }
.correct .feedback { color: #155724; }
.incorrect .feedback { color: #721c24; }
li.option.reveal-correct {
    background-color: #d4edda !important;
    border-color: #c3e6cb !important;
    color: #155724 !important;
    font-weight: bold !important;
}
.explanation {
    display: none;
    margin-top: 15px;
    padding: 10px;
    background-color: #e9ecef;
    border: 1px solid #ced4da;
    border-radius: 4px;
    color: #495057;
    font-size: 0.95em;
}
.section-score {
    margin-top: 30px;
    font-size: 1.2em;
    font-weight: bold;
    color: #333;
    text-align: center;
    padding: 10px;
    background-color: #e7f3ff;
    border: 1px solid #b3d7ff;
    border-radius: 5px;
}
.bottom-nav-container {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1001;
    display: flex;
    gap: 15px;
}
.main-button {
    background-color: #3498db;
    color: #fff;
    padding: 8px 16px;
    font-size: 0.9em;
    text-decoration: none;
    font-weight: bold;
    border-radius: 25px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}
.main-button i { margin-right: 8px; }
.main-button:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0,0,0,0.25); }
a.main-button:hover { background-color: #2980b9; }
#reset-button { background-color: #e74c3c; }
#reset-button:hover { background-color: #c0392b; }
</style>
</head>
<body>
<div class="fixed-header">
    <span class="made-by-prefix">Made by </span><a href="https://t.me/s/Ali_dicaprio" target="_blank">Ali Hussein</a>
</div>

<!-- 
3. COPY/EDIT: Add your sections and questions below.
   - Each section needs a unique data-section-id (e.g., 1, 2, 3, ...)
   - Each question-container needs a unique data-question-id within its section.
   - Edit section titles and questions for your subject.
-->
   

    <div class="section" data-section-id="1">
    <h2 class="section-title">Neuroradiology Questions</h2>

    <!-- Questions -->
    <div class="question-container" data-question-id="q1">
        <p class="question-text"><span class="question-number">4.</span> A 23 years old man presented to the emergency department with head trauma after road traffic accident in the ER, patient undergo brain CT scan :</p>
        <ul class="options">
            <li class="option" data-correct="false">A. Epidural hematoma more common than subdural hematoma.</li>
            <li class="option" data-correct="false">B. Iso to fluid attenuation intracranial bleeding on CT scan indicate acute state.</li>
            <li class="option" data-correct="false">C. Brain MRI is the investigation of choice in head trauma in the acute setting.</li>
            <li class="option" data-correct="true">D. Epidural hematoma cross mid line but not cross suture line.</li>
        </ul>
        <p class="explanation">
            Correct answer: D<br>
            a. Incorrect. Subdural hematomas are generally more common than epidural hematomas overall, though epidural hematomas are common in younger patients with direct impact.<br>
            b. Incorrect. Acute intracranial bleeding is typically hyperdense (brighter than brain tissue) on CT. Isoattenuation suggests a subacute phase (days to weeks) or severe anemia.<br>
            c. Incorrect. Non-contrast CT is the primary investigation of choice in acute head trauma due to its speed, availability, and accuracy in detecting acute hemorrhage and fractures. MRI may be used later for assessing non-hemorrhagic injuries.<br>
            d. Correct. Epidural hematomas are collections of blood between the dura mater and the skull. They are often limited by cranial sutures where the dura is more firmly attached, so they typically do not cross suture lines. However, they can grow large enough to cause mass effect and midline shift.
        </p>
    </div>

    <div class="question-container" data-question-id="q2">
        <p class="question-text"><span class="question-number">5.</span> Regarding subarachnoid hemorrhage :</p>
        <ul class="options">
            <li class="option" data-correct="false">A. Is bleeding in the subarachnoid space between dura matter and arachnoid.</li>
            <li class="option" data-correct="false">B. Is bleeding in the subarachnoid space between dura matter and pia matter.</li>
            <li class="option" data-correct="true">C. Is bleeding in the subarachnoid space between arachnoid and pia matter.</li>
            <li class="option" data-correct="false">D. Is bleeding in the subarachnoid space between arachnoid and extradural space.</li>
        </ul>
        <p class="explanation">
            Correct answer: C<br>
            a. Incorrect. Bleeding between the dura mater and arachnoid mater occurs in a subdural hemorrhage.<br>
            b. Incorrect. The dura mater and pia mater are separated by the arachnoid mater and the subarachnoid space.<br>
            c. Correct. The subarachnoid space, where cerebrospinal fluid circulates, is anatomically located between the arachnoid mater and the pia mater. Bleeding into this space is termed subarachnoid hemorrhage.<br>
            d. Incorrect. The extradural space (or epidural space) is located outside the dura mater, between the dura and the skull.
        </p>
    </div>

    <div class="question-container" data-question-id="q3">
        <p class="question-text"><span class="question-number">6.</span> Intracranial hemorrhage:</p>
        <ul class="options">
            <li class="option" data-correct="true">A. CT scan is the first imaging modality used.</li>
            <li class="option" data-correct="false">B. Lucid interval occur commonly in subdural hematoma.</li>
            <li class="option" data-correct="false">C. Intraventricular hemorrhage can complicated by hydrocephalus.</li>
            <li class="option" data-correct="false">D. Subdural hematoma is crescent shape on CT scan.</li>
            <li class="option" data-correct="false">E. When hemoglobin level â‰¤ 7g/dl, acute bleeding may appear iso-attenuation to brain parenchyma on CT scan.</li>
        </ul>
        <p class="explanation">
            Correct answer: A<br>
            a. Correct. CT scan is readily available, fast, and highly sensitive for acute blood, making it the initial imaging modality of choice for suspected intracranial hemorrhage.<br>
            b. Incorrect. A lucid interval (a temporary improvement in a patient's condition after a traumatic brain injury, followed by deterioration) is classically associated with epidural hematoma, not subdural hematoma.<br>
            c. Correct (but A is a more encompassing primary statement for ICH diagnosis). Intraventricular hemorrhage can complicated by hydrocephalus.<br>
            d. Correct (but A is a more encompassing primary statement for ICH diagnosis). Subdural hematoma is crescent shape on CT scan.<br>
            e. Correct (but A is a more encompassing primary statement for ICH diagnosis). When hemoglobin level â‰¤ 7g/dl, acute bleeding may appear iso-attenuation to brain parenchyma on CT scan.<br>
            (Self-correction note: Many options are true. 'A' is chosen as the most fundamental statement regarding the general approach to intracranial hemorrhage.)
        </p>
    </div>

    <div class="question-container" data-question-id="q4">
        <p class="question-text"><span class="question-number">7.</span> Regarding stroke:</p>
        <ul class="options">
            <li class="option" data-correct="true">A. Brain CT scan is first investigation of choice.</li>
            <li class="option" data-correct="false">B. Gliotic changes occur in acute stroke.</li>
            <li class="option" data-correct="false">C. CT angiography may identify thrombus within an intracranial vessel.</li>
            <li class="option" data-correct="false">D. Hyper dense vessel sign is early radiological sign.</li>
            <li class="option" data-correct="false">E. Hemorrhagic stroke carry more morbidity and mortality than ischemic one.</li>
        </ul>
        <p class="explanation">
            Correct answer: A<br>
            a. Correct. A non-contrast brain CT scan is the crucial first imaging investigation in patients with suspected acute stroke, primarily to differentiate between ischemic and hemorrhagic stroke, which require different management pathways.<br>
            b. Incorrect. Gliosis (scarring) is a chronic repair process in the brain that occurs weeks to months after a stroke, not in the acute phase.<br>
            c. Correct (but A is the initial step for all strokes). CT angiography is a valuable tool for detecting intracranial arterial occlusion (thrombus) and is used in the workup for endovascular therapy.<br>
            d. Correct (but A is the initial step for all strokes). The hyperdense vessel sign (e.g., hyperdense MCA sign) on non-contrast CT can be an early indicator of an occlusive thrombus in an artery.<br>
            e. Correct (but A is the initial step for all strokes). Generally, hemorrhagic strokes are associated with higher rates of acute morbidity and mortality compared to ischemic strokes.<br>
            (Self-correction note: Many options are true. 'A' is chosen as the most fundamental and universal first step in the investigation of stroke.)
        </p>
    </div>

    <div class="question-container" data-question-id="q5">
        <p class="question-text"><span class="question-number">9.</span> The best MRI sequence that used in diagnosis of acute ischemic stroke is:-</p>
        <ul class="options">
            <li class="option" data-correct="false">A. T1WI</li>
            <li class="option" data-correct="true">B. DWI</li>
            <li class="option" data-correct="false">C. T2WI</li>
            <li class="option" data-correct="false">D. FLAIR</li>
            <li class="option" data-correct="false">E. SWI</li>
        </ul>
        <p class="explanation">
            Correct answer: B<br>
            a. Incorrect. T1-weighted imaging (T1WI) is good for anatomy and can show chronic hemorrhage but is not sensitive for acute ischemic changes.<br>
            b. Correct. Diffusion-Weighted Imaging (DWI) is highly sensitive to restricted diffusion of water molecules that occurs within minutes of an acute ischemic event, making it the best MRI sequence for early diagnosis.<br>
            c. Incorrect. T2-weighted imaging (T2WI) shows edema associated with stroke, but these changes typically appear later (hours) than DWI findings.<br>
            d. Incorrect. FLAIR (Fluid Attenuated Inversion Recovery) is useful for detecting lesions near CSF spaces and is sensitive to subacute/chronic stroke changes, but DWI is superior for hyperacute ischemia.<br>
            e. Incorrect. Susceptibility Weighted Imaging (SWI) is excellent for detecting blood products (hemorrhage, microbleeds) but is not the primary sequence for diagnosing acute ischemia itself.
        </p>
    </div>

    <div class="question-container" data-question-id="q6">
        <p class="question-text"><span class="question-number">10.</span> The most common site to be involved in hypertensive hemorrhage is :-</p>
        <ul class="options">
            <li class="option" data-correct="false">A. Cerebellum</li>
            <li class="option" data-correct="false">B. Thalami</li>
            <li class="option" data-correct="true">C. Basal ganglia</li>
            <li class="option" data-correct="false">D. Pons</li>
            <li class="option" data-correct="false">E. Cerebral hemisphere</li>
        </ul>
        <p class="explanation">
            Correct answer: C<br>
            a. Incorrect. While the cerebellum is a common site for hypertensive hemorrhage, it is not the most common.<br>
            b. Incorrect. The thalamus is another common site, but typically less frequent than the basal ganglia.<br>
            c. Correct. The basal ganglia, particularly the putamen, are the most common locations for spontaneous intracerebral hemorrhage secondary to chronic hypertension.<br>
            d. Incorrect. The pons is a common site, especially for severe hypertensive hemorrhages, but not the most frequent overall.<br>
            e. Incorrect. Lobar hemorrhages occur in the cerebral hemispheres and can be due to various causes including amyloid angiopathy in the elderly or sometimes hypertension, but deep structures like basal ganglia are more classic for hypertensive bleeds.
        </p>
    </div>

    <div class="question-container" data-question-id="q7">
        <p class="question-text"><span class="question-number">11.</span> Regarding CT scan all wrong except:</p>
        <ul class="options">
            <li class="option" data-correct="false">A. Is a non-ionizing radiation examination.</li>
            <li class="option" data-correct="false">B. The examination modality of choice for acute ischemic infarction.</li>
            <li class="option" data-correct="true">C. The examination modality of choice for hemorrhagic stroke and intracranial hemorrhage</li>
            <li class="option" data-correct="false">D. Better than MRI for soft tissue details.</li>
        </ul>
        <p class="explanation">
            Correct answer: C<br>
            a. Incorrect. CT (Computed Tomography) scans use X-rays, which are a form of ionizing radiation.<br>
            b. Incorrect. While CT is crucial initially to rule out hemorrhage in acute stroke, MRI with DWI (Diffusion-Weighted Imaging) is more sensitive and considered the modality of choice for detecting acute ischemic infarction itself.<br>
            c. Correct. CT is fast, widely available, and excellent at detecting acute blood, making it the primary imaging modality of choice for diagnosing hemorrhagic stroke and other acute intracranial hemorrhages.<br>
            d. Incorrect. MRI (Magnetic Resonance Imaging) provides superior soft tissue contrast and detail compared to CT.
        </p>
    </div>

    <div class="question-container" data-question-id="q8">
        <p class="question-text"><span class="question-number">12.</span> Regarding CNS emergency:</p>
        <ul class="options">
            <li class="option" data-correct="true">A. CT scan is the imaging modality of choice for acute intracranial hemorrhage.</li>
            <li class="option" data-correct="false">B. CT scan is the imaging modality of choice for acute ischemic stroke.</li>
            <li class="option" data-correct="false">C. MRI (DWI)is the imaging modality of choice for acute ischemic stroke.</li>
            <li class="option" data-correct="false">D. Skull x-ray is the imaging modality of choice for intraventricular hemorrhage.</li>
        </ul>
        <p class="explanation">
            Correct answer: A<br>
            a. Correct. CT scan is rapid, accessible, and highly effective at detecting acute intracranial hemorrhage, making it the imaging modality of choice for this specific CNS emergency.<br>
            b. Incorrect. While CT is the first imaging done in suspected acute ischemic stroke (to exclude hemorrhage), MRI with DWI is the modality of choice for diagnosing and confirming acute ischemia.<br>
            c. Correct (but 'a' is also strongly correct for its specific condition). MRI with DWI is the most sensitive modality for detecting and characterizing acute ischemic stroke. However, in a general CNS emergency context, 'a' represents a universally accepted first-line choice for a critical diagnosis.<br>
            d. Incorrect. CT scan is the imaging modality of choice for detecting intraventricular hemorrhage. Skull x-rays have a very limited role in modern neuroimaging for CNS emergencies.<br>
            (Self-correction note: Both 'a' and 'c' are strong statements. 'a' is chosen because CT's role in diagnosing ICH in a CNS emergency is primary and dictates immediate, critical management decisions. For suspected ischemia, CT is first to rule out bleed, then MRI/DWI confirms ischemia.)
        </p>
    </div>

    <div class="section-score" id="score-section-1">Score: 0 / 8</div>
</div>

<div class="bottom-nav-container">
    <a href="#" class="main-button" id="home-button">
        <i class="fas fa-home"></i> Home
    </a>
    <button id="reset-button" class="main-button">
        <i class="fas fa-sync-alt"></i> Reset
    </button>
</div>

<script>
// ====== SUBJECT PAGE SHORTCUT LOGIC ======
const PAGE_ID = window.SUBJECT_SETTINGS.PAGE_ID;
const ANSWERS_KEY = `${PAGE_ID}_answers`;
const SCORES_KEY = `${PAGE_ID}_scores`;

// Set dynamic title and home button
document.title = window.SUBJECT_SETTINGS.PAGE_TITLE;
document.getElementById('dynamic-title')?.remove(); // Remove if exists
const homeBtn = document.getElementById('home-button');
if (homeBtn) homeBtn.href = window.SUBJECT_SETTINGS.HOME_LINK;

// ...rest of your script (no changes needed below this line)...
const sections = document.querySelectorAll('.section');
let sectionScores = {};

function saveState(sectionId, questionId, selectedOptionIndex, currentScore, totalQuestions) {
    let answers = JSON.parse(localStorage.getItem(ANSWERS_KEY)) || {};
    if (!answers[sectionId]) answers[sectionId] = {};
    answers[sectionId][questionId] = {
        selectedOptionIndex: selectedOptionIndex,
        answered: true
    };
    localStorage.setItem(ANSWERS_KEY, JSON.stringify(answers));

    let scores = JSON.parse(localStorage.getItem(SCORES_KEY)) || {};
    scores[sectionId] = { score: currentScore, total: totalQuestions };
    localStorage.setItem(SCORES_KEY, JSON.stringify(scores));
}

function applyOptionSelectionLogic(optionElement, questionContainer, isLoadTime = false) {
    const explanation = questionContainer.querySelector('.explanation');
    const allOptionsInQuestion = questionContainer.querySelectorAll('.option');
    const section = questionContainer.closest('.section');
    const sectionId = section.dataset.sectionId;
    const scoreDisplay = section.querySelector(`#score-section-${sectionId}`);
    const totalQuestionsInSection = section.querySelectorAll('.question-container').length;

    if (questionContainer.classList.contains('answered') && !isLoadTime) return;
    questionContainer.classList.add('answered');

    const isCorrect = optionElement.dataset.correct === 'true';

    let feedbackSpan = optionElement.querySelector('.feedback');
    if (!feedbackSpan) {
        feedbackSpan = document.createElement('span');
        feedbackSpan.className = 'feedback';
        optionElement.appendChild(feedbackSpan);
    }
    feedbackSpan.style.display = 'inline';

    if (isCorrect) {
        optionElement.classList.add('correct');
        feedbackSpan.textContent = ' âœ“ Correct!';
        if (!isLoadTime) sectionScores[sectionId]++;
    } else {
        optionElement.classList.add('incorrect');
        feedbackSpan.textContent = ' âœ— Incorrect.';
        allOptionsInQuestion.forEach(opt => {
            if (opt.dataset.correct === 'true') {
                opt.classList.add('reveal-correct');
                let correctFeedback = opt.querySelector('.feedback');
                if (!correctFeedback) {
                    correctFeedback = document.createElement('span');
                    correctFeedback.className = 'feedback';
                    opt.appendChild(correctFeedback);
                }
                correctFeedback.textContent = ' âœ“ Correct Answer';
                correctFeedback.style.display = 'inline';
            }
        });
    }

    if (explanation) explanation.style.display = 'block';
    allOptionsInQuestion.forEach(opt => { opt.style.cursor = 'default'; });

    if (scoreDisplay) {
        scoreDisplay.textContent = `Score: ${sectionScores[sectionId]} / ${totalQuestionsInSection}`;
    }

    if (!isLoadTime) {
        const optionIndex = Array.from(allOptionsInQuestion).indexOf(optionElement);
        saveState(sectionId, questionContainer.dataset.questionId, optionIndex, sectionScores[sectionId], totalQuestionsInSection);
    }
}

function loadState() {
    const savedAnswersData = JSON.parse(localStorage.getItem(ANSWERS_KEY));
    const savedScoresData = JSON.parse(localStorage.getItem(SCORES_KEY));

    sections.forEach(section => {
        const sectionId = section.dataset.sectionId;
        const totalQuestionsInSection = section.querySelectorAll('.question-container').length;
        sectionScores[sectionId] = (savedScoresData && savedScoresData[sectionId]) ? savedScoresData[sectionId].score : 0;

        const scoreDisplay = section.querySelector(`#score-section-${sectionId}`);
        if (scoreDisplay) {
            scoreDisplay.textContent = `Score: ${sectionScores[sectionId]} / ${totalQuestionsInSection}`;
        }

        if (savedAnswersData && savedAnswersData[sectionId]) {
            const questionsInSection = section.querySelectorAll('.question-container');
            questionsInSection.forEach(qc => {
                const questionId = qc.dataset.questionId;
                const qData = savedAnswersData[sectionId][questionId];
                if (qData && qData.answered && typeof qData.selectedOptionIndex === 'number') {
                    const optionsInQ = qc.querySelectorAll('.option');
                    const selectedOptionEl = optionsInQ[qData.selectedOptionIndex];
                    if (selectedOptionEl) {
                        applyOptionSelectionLogic(selectedOptionEl, qc, true);
                    }
                }
            });
        }
    });
}

function resetState() {
    localStorage.removeItem(ANSWERS_KEY);
    localStorage.removeItem(SCORES_KEY);

    sections.forEach(section => {
        const sectionId = section.dataset.sectionId;
        sectionScores[sectionId] = 0;
        const totalQuestionsInSection = section.querySelectorAll('.question-container').length;
        const scoreDisplay = section.querySelector(`#score-section-${sectionId}`);

        section.querySelectorAll('.question-container').forEach(qc => {
            qc.classList.remove('answered');
            const explanation = qc.querySelector('.explanation');
            if (explanation) explanation.style.display = 'none';

            qc.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('correct', 'incorrect', 'reveal-correct');
                opt.style.cursor = 'pointer';
                const feedback = opt.querySelector('.feedback');
                if (feedback) {
                    feedback.textContent = '';
                    feedback.style.display = 'none';
                }
            });
        });

        if (scoreDisplay) {
            scoreDisplay.textContent = `Score: 0 / ${totalQuestionsInSection}`;
        }
    });
}

// Save total number of questions for summary use (main page)
document.addEventListener('DOMContentLoaded', function() {
    const totalQuestions = document.querySelectorAll('.question-container').length;
    let scores = JSON.parse(localStorage.getItem(SCORES_KEY)) || {};
    scores['all'] = scores['all'] || {};
    scores['all'].total = totalQuestions;
    localStorage.setItem(SCORES_KEY, JSON.stringify(scores));
});

document.addEventListener('DOMContentLoaded', () => {
    sections.forEach(section => {
        const sectionId = section.dataset.sectionId;
        sectionScores[sectionId] = 0;
    });

    loadState();

    sections.forEach(section => {
        const options = section.querySelectorAll('.option');
        options.forEach(option => {
            option.addEventListener('click', function() {
                const questionContainer = this.closest('.question-container');
                applyOptionSelectionLogic(this, questionContainer, false);
            });
        });
    });

    const resetButton = document.getElementById('reset-button');
    if (resetButton) {
        resetButton.addEventListener('click', resetState);
    }
});
</script>

</body>
</html>